#ifndef port_h
#define port_h

#include <stdio.h>
#include <sys/socket.h>

struct simple_msg {
    mach_msg_header_t hdr;
    u8 buf[0];
};

struct msg_ool_ports {
    mach_msg_header_t hdr;
    mach_msg_body_t body;
    mach_msg_ool_ports_descriptor_t ool_ports;
};

struct msg_ool_ports_multi {
    mach_msg_header_t hdr;
    mach_msg_body_t body;
    mach_msg_ool_ports_descriptor_t ool_ports[0];
};


struct msg_ool_mem_multi {
    mach_msg_header_t hdr;
    mach_msg_body_t body;
    mach_msg_ool_descriptor_t ool[0];
};

mach_port_t allocate_port(void);
mach_port_t do_ool_port_kalloc(mach_port_t dest, mach_port_t target_port,u32 port_count,u32 send_count);
#endif /* port_h */
